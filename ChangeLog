2008-03-06 Perry Rapp

	* ChangeLog src/interp/pvalue.c

	Fix get_pvalue_as_bool to handle PGNODE, and add comment header.

	* ChangeLog NEWS

	Document last bugfix in NEWS file.

2008-01-12 Perry Rapp

	* ChangeLog docs/Makefile.am
	*NEW docs/ll_html.dsl

	Add custom html DSSL stylesheet to force shaded verbatim text
	in output HTML docs.

	* ChangeLog docs/ll-devguide.html docs/ll-reportmanual.html
	docs/ll-reportmanual.pdf docs/ll-userguide.html
	docs/ll-userguide.pdf

	Newly generated docs.

2008-01-10 Perry Rapp

	* ChangeLog src/interp/write.c

	More changing iargs() to builtin_args and fixing misc. aspects
	of handling.

2008-01-08 Perry Rapp

	* ChangeLog README.DEVELOPERS README.MAINTAINERS

	Add a few more required software packages for developers. Add
	note to README.MAINTAINERS pointing to software requirements
	in README.DEVELOPERS.

	* ChangeLog docs/ll-userguide.xml

	Add REPORTS section to user manual, referring to the reports
	index.html file, and the report manual.

	* ChangeLog docs/ll-userguide.xml

	Remove superfluous sect1 end tags in user manual.

2008-01-06 Perry Rapp

	* ChangeLog INSTALL

	Add diagnostic note for missing gettext tools, because it
	isn't entirely obvious.

2008-01-05 Perry Rapp

	* ChangeLog src/interp/alloc.c src/interp/interpi.h
	src/interp/more.c

	Changing more iargs macro calls to builtin_args function calls.
	Misc. improvements to error reporting, including adding checking
	if 4th arg to llrpt_dms2deg is actually a variable. New std error
	nonflo1.

	* ChangeLog src/interp/more.c

	Check that args to llrpt_deg2dms are variables.
	
	* ChangeLog docs/todo_Perry.txt src/interp/more.c

	More iargs to builtin_args changes & improving error reporting--
	all trig functions.

	* ChangeLog NEWS

	Add recent changes.

	* ChangeLog NEWS reports\st\st_all.ll
	src\hdrs\sys_inc.h src\interp\more.c
	*NEW reports\st\st_trig.li

	Fix constant M_PI so trig results come out correct. Add new
	self-test st_trig.li.

2008-01-04 Perry Rapp

	* ChangeLog src/interp/alloc.c src/interp/eval.c
	src/interp/interp.c src/interp/interpi.h src/interp/intrpseq.c
	src/interp/more.c src/interp/rassa.c

	Improve error reporting for llrpt_pagemode, llrpt_newfile,
	llrpt_extractnames, llrpt_extractplaces, llrpt_extracttokens,
	llrpt_chooseindi, llrpt_choosesubset.
	New functions ipdefn_args, ipcall_args, ifdefn_args, ifcall_args.

	* ChangeLog README.MAINTAINERS

	Add note about st/st_all to README.MAINTAINERS.

	* ChangeLog
	*NEW docs/todo_Perry.txt

	Put my long-term todo list into cvs under docs.

	* ChangeLog src/interp/alloc.c src/interp/builtin.c
	src/interp/interpi.h src/interp/more.c

	New std report errors nonboo1,nonif1. Improve error reporting for
	llrpt_database, llrpt_index, llrpt_substring, llrpt_chooseindi,
	llrpt_choosesubset, llrpt_choosechild.

	* ChangeLog docs/todo_Perry.txt src/interp/yacc.y

	Remove iargs from yacc.y (unnecessary initialization).

	* ChangeLog docs/todo_Perry.txt src/interp/alloc.c
	src/interp/interpi.h src/interp/rptsort.c

	New std report error nonlstarrx. Improve error reporting in sortimpl.

	* ChangeLog docs/ll-reportmanual.xml

	Add note that Choosespouse will return remarried spouses multiple
	times (and reformat raw text of that para to not wrap).

	* ChangeLog docs/ll-reportmanual.xml src/gedlib/indiseq.c
	src/hdrs/indiseq.h src/interp/more.c

	New function fam_to_spouses. Change indi_to_families to put
	person's own keynum as value, so can pick up all other spouses
	for print line for ISPRN_FAMSEQ style. Modify famseq_print_el to
	include all other spouses. Simplify llrpt_choosechild by factoring
	common code. Modify choosespouse to work for families also.

2008-01-03 Perry Rapp

	* ChangeLog src/interp/rassa.c

	Improve error handling of report functions pos, col, and row.

2008-01-02 Perry Rapp

	* ChangeLog build/msvc6/llexec/llexec.dsp
	build/msvc6/llines/llinesprj.dsp
	src/interp/Makefile.am 	src/interp/builtin.c
	*NEW src/interp/builtin_list.c

	Move interpreter functions for lists to new file builtin_list.c.

	* ChangeLog src/interp/builtin.c src/interp/builtin_list.c

	Move function llrpt_dup from builtin.c to builtin_list.c.
	Remove obsolete declaration of create_list_value_pvalue from 
	builtin.c.

	* ChangeLog src/interp/alloc.c src/interp/builtin.c
	src/interp/builtin_list.c src/interp/interp.c src/interp/interpi.h
	src/interp/more.c

	Move declarations of standard interpreter arg. errors (nonint1...)
	into interpi.h instead of being duplicated across source files.

2008-01-02 Perry Rapp

	* ChangeLog src/hdrs/llstdlib.h src/stdlib/stralloc.c

	New function strcfree for constant strings.

	* ChangeLog src/interp/alloc.c src/interp/builtin.c
	src/interp/interpi.h src/interp/intrpseq.c

	Change builtin (llrpt) functions to use new function
	builtin_args instead of macro iargs (so they needn't
	be changed when builtin function data storage is fixed
	to use struct inside pnode union).

	* ChangeLog src/interp/builtin.c

	Change local variable "arg" to "argvar", for easier
	grep -- down to line 400 of builtin.c.

	* ChangeLog src/interp/builtin.c

	Change local variable "arg" to "argvar", for easier
	grep -- down to line 2000 of builtin.c.

	* ChangeLog src/interp/builtin.c

	Finish changing local variable "arg" to "argvar" in
	builtin.c. Also plugged some pvalue leaks in error cases.

2007-12-30 Perry Rapp

	* ChangeLog src/interp/alloc.c src/interp/interp.c
	src/interp/interpi.h src/interp/yacc.y

	Implement if/next & while structs inside pnode union.

2007-12-25 Perry Rapp

	* ChangeLog src/gedlib/intrface.c
	src/gedlib/names.c src/gedlib/refns.c src/hdrs/gedcom.h
	src/liflines/scan.c src/tools/dbverify.c

	Add different traversal typedefs to fix conflicting types.
	Rename TRAV_RECORD_FUNC_BYSTR to TRAV_RAWRECORD_FUNC
	and TRAV_RECORD_FUNC_BYREC to TRAV_RECORD_FUNC.

	* ChangeLog src/btree/traverse.c

	Add explanatory comment to traverse_index_blocks header comment.

	* ChangeLog src/gedlib/intrface.c src/hdrs/gedcom.h
	src/tools/dbverify.c

	Add args macros from name & refn traverses, with appropriate types
	and arg names. Fix all traverse macros to consistently use plural nouns.

2007-12-24 Matt Emmerton

	* ChangeLog src/hdrs/gedcom.h src/gedlib/intrface.c
	src/tools/dbverify.c

	Fix bug with traversal routine #defines, as it caused
	compile errors on Windows (reported by Perry.)

2007-12-24 Perry Rapp

	* ChangeLog src/gedlib/translat.c src/hdrs/translat.h
	src/liflines/export.c

	Cleanup. Changed third arg of copy_and_translate from INT to char
	(which removed a cast).

	* ChangeLog
	*NEW ChangeLog_to_3.0.62

	Moved most of ChangeLog contents into new docs/ChangeLog_to_3.0.62

	* ChangeLog src/gedlib/intrface.c

	Restore lost comments.

2007-12-24 Matt Emmerton

	* ChangeLog src/hdrs/btree.h src/btree/traverse.c
	src/hdrs/gedcom.h src/gedlib/intrface.c src/gedlib/names.c
	src/gedlib/refns.c src/liflines/scan.c src/tools/dbverify.c

	Use #defines to simplify traversal routine function pointers
	and argument lists. This is a working version of the changes
	that were attempted on 2004-10-16 and backed out on 2004-10-27.
	(For those who are counting, that's only 38 months.)

2007-12-24 Perry Rapp

	* ChangeLog reports/st/st_date.li src/hdrs/llstdlib.h
	src/interp/alloc.c src/interp/builtin.c src/interp/eval.c
	src/interp/interp.c src/interp/interpi.h src/interp/intrpseq.c
	src/interp/more.c src/interp/pvalalloc.c src/interp/pvalue.c
	src/interp/rassa.c src/interp/symtab.c src/interp/yacc.y
	src/liflines/pedigree.c src/stdlib/memalloc.c src/stdlib/path.c

	Remove unused PNODE type ILCONS.
	Rename trav_pre_print_nd to trav_pre_print_nod.
	Move node-specific data of tag_pnode into embedded, union structs.
	Change first arg of __deallocate to const pointer.
	Changed IPCALL nodes to use new union struct node.vars.ipcall.
	Changed IICONS nodes to use new union struct node.vars.iicons.
	Changed pa_handle_option to take CNSTRING instead of PVALUE.
	New function get_internal_string_node_value.
	Various const cleanup as encountered during above changes.
	Changed IIDENT nodes to use new union struct node.vars.iident.
	New function iident_name replaced macro iident.
	Fix leak in llrpt_extractdatestr.
	Changed many calls to delete_pvalue into calls to delete_pvalue_ptr.
	Initialized some local variables.

	* ChangeLog src/liflines/pedigree.c

	Cleanup: removed unused variable in node_lineprint.

	* ChangeLog README.LAYOUT
	build/msvc6/btedit/bteditCmd.dsp
	build/msvc6/dbverify/dbverifyCmd.dsp
	build/msvc6/llexec/llexec.dsp
	build/msvc6/llines/llinesprj.dsp
	configure.ac
	src/hdrs/Makefile.am src/hdrs/llnls.h src/hdrs/mycurses.h
	src/stdlib/icvt.c
	*NEW src/hdrs/mswin/.cvsignore
	*NEW src/hdrs/mswin/Makefile.am
	*NEW src/hdrs/mswin/README
	*NEW src/hdrs/mswin/curses.h
	*NEW src/hdrs/mswin/getopt.h
	*NEW src/hdrs/mswin/iconv.h
	*NEW src/hdrs/mswin/iconvshim.h
	*NEW src/hdrs/mswin/intlshim.h
	*NEW src/hdrs/mswin/msvc.h
	*DELETED src/hdrs/win32/.cvsignore
	*DELETED src/hdrs/win32/Makefile.am
	*DELETED src/hdrs/win32/README
	*DELETED src/hdrs/win32/curses.h
	*DELETED src/hdrs/win32/getopt.h
	*DELETED src/hdrs/win32/iconv.h
	*DELETED src/hdrs/win32/iconvshim.h
	*DELETED src/hdrs/win32/intlshim.h
	*DELETED src/hdrs/win32/msvc.h

	Move Microsoft Windows specific headers from src/hdrs/win32
	to src/hdrs/mswin.

	* ChangeLog src/liflines/import.c

	Cleanup: removed unused variable in import_from_gedcom_file.

	* ChangeLog src/stdlib/icvt.c

	Removed unneeded & wrong cast in call to iconv in iconv_trans.


2007-12-24 Matt Emmerton

	* ChangeLog configure.ac
	* Makefile.am docs/Makefile.am
	* src/liflines/Makefile.am src/tools/Makefile.am

	Update for autoconf-2.61 and add compatibility shims.
	Tested with ac261/am110 and ac259/am19.

2007-12-23 Perry Rapp

	* ChangeLog docs/ll-reportmanual.xml

	Add debugging section to end of report manual.

	* ChangeLog
	*NEW src/hdrs/win32/README

	Add README to hdrs/win32 subdir.

	* ChangeLog Makefile.am README.LAYOUT
	* build/msvc6/btedit/bteditCmd.dsp
	* build/msvc6/dbverify/dbverifyCmd.dsp
	* build/msvc6/llexec/llexec.dsp
	* build/msvc6/llines/llinesprj.dsp
	* src/Makefile.am src/arch/Makefile.am
	*NEW src/arch/mswin/.cvsignore
	*NEW src/arch/mswin/Makefile.am
	*NEW src/arch/mswin/getopt.c
	*NEW src/arch/mswin/iconvshim.c
	*NEW src/arch/mswin/intlshim.c
	*NEW src/arch/mswin/mycurses.c
	*NEW src/arch/mswin/old_readme_win32.txt
	*NEW src/arch/mswin/w32systm.c
	*DELETE win32/.cvsignore
	*DELETE win32/Makefile.am
	*DELETE win32/getopt.c
	*DELETE win32/iconvshim.c
	*DELETE win32/intlshim.c
	*DELETE win32/mycurses.c
	*DELETE win32/readme_win32.txt
	*DELETE win32/w32systm.c

	Move Microsoft Windows specific source files from
	./win32 to ./src/arch/mswin.

	* ChangeLog configure.ac

	Fix configure.ac for above move.

	* ChangeLog src/gedlib/node.c src/gedlib/xlat.c

	Change two variables from INT to int, to work with %d.

	* ChangeLog src/interp/progerr.c src/stdlib/strutf8.c

	Cosmetic: remove some unused variables.

	* ChangeLog src/stdlib/strutf8.c

	Cosmetic: Add newline at end of strutf8.c.

2007-12-22 Perry Rapp

	* ChangeLog src/gedlib/keytonod.c src/hdrs/pvalue.h
	src/interp/more.c src/interp/progerr.c src/interp/pvalue.c
	src/interp/rptsort.c

	Fix reversed log in locked assert. Display tag of PGNODE in debugger.
	Remove two unnecessary includes of array.h.
	Fix declaration & argument passing of disp_symtab_cb.

	* ChangeLog src/interp/progerr.c src/interp/pvalue.c
	src/interp/rptui.c src/interp/rptui.h

	Wrap some direct references to PVALUE_DATA members in existing
	accessors (eg, pvalue_to_list instead of ->value.lxd).
	New functions disp_pvalue, disp_list, disp_table, disp_seq,
	disp_dbgsymtab, init_dbgsymtab_arrays, free_dbgsymtab_arrays,
	make_empty_string_table, make_empty_pvalue_table.

	* ChangeLog src/hdrs/indiseq.h src/interp/progerr.c

	Add some msg_info calls to disp_pvalue & disp_list.
	Implement disp_table. Rename disp_symtab_cb as format_dbgsymtab_val.
	New function format_dbgsymtab_str. Implement disp_seq.

2007-12-20 Perry Rapp

	* ChangeLog src/gedlib/indiseq.c src/hdrs/array.h
	src/hdrs/indiseq.h src/hdrs/pvalue.h src/interp/builtin.c
	src/interp/pvalalloc.c src/interp/pvalue.c src/stdlib/array.c

	Fix pvalue to store PVALUE_DATA union instead of VPTR pointer

	* ChangeLog src/gedlib/keytonod.c

	Changed locked assert in remove_cel_from_cache to be more
	detailed fatal msg.

2007-12-15 Perry Rapp

	* ChangeLog
	*NEW reports/gedmin.ll

	Add new report which outputs specified tags of a database to GEDCOM.

	* ChangeLog reports/gedmin.ll

	Revised gedmin to allow keeping certain tags only for dead people (& fams).
	More extensive statistics reported.

2007-10-25 Perry Rapp

	* ChangeLog src/stdlib/strapp.c src/stdlib/strwhite.c

	Cosmetic: remove obsolete & unneeded comments.

2007-10-21 Perry Rapp

	* ChangeLog src/liflines/selectdb.c

	Revisions to open_or_create_database so that
	~ paths are expanded in database path.

2007-10-09 Perry Rapp

	* ChangeLog src/stdlib/strcvt.c

	Simplify isnumeric and remove todo above it.

	* ChangeLog src/liflines/llexec.c

	Cosmetic changes to make llexec.c resemble main.c.

2007-10-07 Stephen Dum
	* ChangeLog docs/ll-userguide.xml

	remove set of parentheses.

(See previous ChangeLogs in docs)
